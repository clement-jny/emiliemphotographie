- .env :
PROD_URL=https://emiliemphotographie.fr
DEV_URL=http://127.0.0.1:3000

- playwright.dev.config.ts / playwright-ct.dev.config.ts :
import { defineConfig } from "@playwright/test";
import baseConfig from "./playwright.config";

export default defineConfig({
  ...baseConfig,

  /* Shared settings for all the projects below. See https://playwright.dev/docs/api/class-testoptions. */
  use: {
    ...baseConfig.use,

    /* Base URL to use in actions like `await page.goto('/')`. */
    baseURL: process.env.DEV_URL,
  },

  /* Run your local dev server before starting the tests */
  webServer: {
    command: "npm run dev",
    url: "http://127.0.0.1:3000",
    reuseExistingServer: !process.env.CI,
  },
});

- playwright.config.ts / playwright-ct.config.ts :
/* Shared settings for all the projects below. See https://playwright.dev/docs/api/class-testoptions. */
use: {
  /* Base URL to use in actions like `await page.goto('/')`. */
  baseURL: process.env.PROD_URL,

  /* Collect trace when retrying the failed test. See https://playwright.dev/docs/trace-viewer */
  trace: "on-first-retry",
},
